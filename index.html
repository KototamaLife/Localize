<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Kototama Localize Test</title>
<script>
function l(){return (navigator.userLanguage||navigator.browserLanguage||navigator.language).substr(0,2);}
function e(i){return document.getElementById(i);}
function c(){var l=e('tl').children;for (var i=0;i<l.length;++i){l.children[2].textContent='';}}
function t(i,t){var o=e(i);if(o){o.textContent=t;}}
function r(j){var k=Object.keys(j);for(var i=0;i<k.length;++i){t(k[i],j[k[i]]);}}
function n(s){return !(n===200);}
function o(){c();if(n(this.status)){return;}r(JSON.parse(this.responseText||'{}'));}
function g(u,l){var h=new XMLHttpRequest();h.open('get',u,true);h.addEventListener('load',l);h.addEventListener('error',function(){});h.send();}
function h(l){g('l/'+l+'.json',o);}
function s(j){var k=Object.keys(j);for(var i=0;i<k.length;++i){e('ll').appendChild(new Option(k[i]+' '+j[k[i]],k[i]));}}
function f(){s(JSON.parse(this.responseText||'{}'));e('ll').addEventListener('change',i);}
function i(){h(e('ll').value||l());}
window.onload=function(){h(l());g('langlist.json',f);}
</script>
<style>
</style>
</head>
<body>
	<table>
		<thead>
			<tr><td>Src(Japanese)</td><td>English(Default)</td><td><select id="ll"><option value="">Select Language</option></select></td></tr>
		</thead>
		<tbody id="tl">
			<tr><td>ログイン</td><td>Login</td><td id="login">Login</td></tr>
			<tr><td>新規塔奥</td><td>Sign up</td><td id="signup">Sign up</td></tr>
		</tbody>
	</table>
</body>
</html>
